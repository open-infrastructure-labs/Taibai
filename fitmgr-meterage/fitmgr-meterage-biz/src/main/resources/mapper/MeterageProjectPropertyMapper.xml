<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.fitmgr.meterage.mapper.MeterageProjectPropertyMapper">

    <resultMap id="BaseResultMap" type="com.fitmgr.meterage.api.entity.MeterageProjectProperty">
        <id column="id" property="id" />
        <result column="meterage_project_id" property="meterageProjectId" />
        <result column="key_name" property="keyName" />
        <result column="source_key" property="sourceKey" />
        <result column="foreign_component_id" property="foreignComponentId" />
        <result column="foreign_key" property="foreignKey" />
        <result column="create_time" property="createTime" />
        <result column="del_flag" property="delFlag" />
        <result column="cal_flag" property="calFlag" />
    </resultMap>

    <select id="selectHeaderByComponentCode"  resultMap="BaseResultMap">
        select mpp.*
        from meterage_project_property mpp
        left join meterage_project mp on mp.component_code = #{componentCode}
        where mpp.meterage_project_id = mp.id AND mpp.del_flag = 0
    </select>

</mapper>
